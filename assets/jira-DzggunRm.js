var e=Object.defineProperty,t=(t,r,n)=>((t,r,n)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n)(t,"symbol"!=typeof r?r+"":r,n);import{g as r,c as n,J as o}from"./index-D0YA6_tf.js";var i={},a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var u=function(){return u=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},u.apply(this,arguments)};function c(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r}function l(e,t,r,n){var o,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,r,a):o(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function f(e,t){return function(r,n){t(r,n,e)}}function d(e,t,r,n,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,u=n.kind,c="getter"===u?"get":"setter"===u?"set":"value",l=!t&&e?n.static?e:e.prototype:null,f=t||(l?Object.getOwnPropertyDescriptor(l,n.name):{}),d=!1,p=r.length-1;p>=0;p--){var y={};for(var v in n)y[v]="access"===v?{}:n[v];for(var v in n.access)y.access[v]=n.access[v];y.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var _=(0,r[p])("accessor"===u?{get:f.get,set:f.set}:f[c],y);if("accessor"===u){if(void 0===_)continue;if(null===_||"object"!=typeof _)throw new TypeError("Object expected");(s=a(_.get))&&(f.get=s),(s=a(_.set))&&(f.set=s),(s=a(_.init))&&o.unshift(s)}else(s=a(_))&&("field"===u?o.unshift(s):f[c]=s)}l&&Object.defineProperty(l,n.name,f),d=!0}function p(e,t,r){for(var n=arguments.length>2,o=0;o<t.length;o++)r=n?t[o].call(e,r):t[o].call(e);return n?r:void 0}function y(e){return"symbol"==typeof e?e:"".concat(e)}function v(e,t,r){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function _(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,r,n){return new(r||(r=Promise))(function(o,i){function a(e){try{u(n.next(e))}catch(t){i(t)}}function s(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,s)}u((n=n.apply(e,t||[])).next())})}function b(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(s){return function(u){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==s[0]&&2!==s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(u){s=[6,u],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,u])}}}var g=Object.create?function(e,t,r,n){void 0===n&&(n=r);var o=Object.getOwnPropertyDescriptor(t,r);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,o)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]};function w(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||g(t,e,r)}function m(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function O(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(s){o={error:s}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function j(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e}function P(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n}function E(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function I(e){return this instanceof I?(this.v=e,this):new I(e)}function T(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function(e){return function(t){return Promise.resolve(t).then(e,c)}}),n[Symbol.asyncIterator]=function(){return this},n;function a(e,t){o[e]&&(n[e]=function(t){return new Promise(function(r,n){i.push([e,t,r,n])>1||s(e,t)})},t&&(n[e]=t(n[e])))}function s(e,t){try{(r=o[e](t)).value instanceof I?Promise.resolve(r.value.v).then(u,c):l(i[0][2],r)}catch(n){l(i[0][3],n)}var r}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}}function S(e){var t,r;return t={},n("next"),n("throw",function(e){throw e}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(n,o){t[n]=e[n]?function(t){return(r=!r)?{value:I(e[n](t)),done:!1}:o?o(t):t}:o}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=m(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,o){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,o,(t=e[r](t)).done,t.value)})}}}function A(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var M=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},C=function(e){return(C=Object.getOwnPropertyNames||function(e){var t=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[t.length]=r);return t})(e)};function B(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r=C(e),n=0;n<r.length;n++)"default"!==r[n]&&g(t,e,r[n]);return M(t,e),t}function F(e){return e&&e.__esModule?e:{default:e}}function k(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)}function R(e,t,r,n,o){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?o.call(e,r):o?o.value=r:t.set(e,r),r}function D(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function L(e,t,r){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var n,o;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(void 0===n){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(o=n)}if("function"!=typeof n)throw new TypeError("Object not disposable.");o&&(n=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var N="function"==typeof SuppressedError?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function $(e){function t(t){e.error=e.hasError?new N(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var r,n=0;return function o(){for(;r=e.stack.pop();)try{if(!r.async&&1===n)return n=0,e.stack.push(r),Promise.resolve().then(o);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(o,function(e){return t(e),o()})}else n|=1}catch(a){t(a)}if(1===n)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}()}function z(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(e,r,n,o,i){return r?t?".jsx":".js":!n||o&&i?n+o+"."+i.toLowerCase()+"js":e}):e}const G={__extends:s,__assign:u,__rest:c,__decorate:l,__param:f,__esDecorate:d,__runInitializers:p,__propKey:y,__setFunctionName:v,__metadata:_,__awaiter:h,__generator:b,__createBinding:g,__exportStar:w,__values:m,__read:O,__spread:j,__spreadArrays:P,__spreadArray:E,__await:I,__asyncGenerator:T,__asyncDelegator:S,__asyncValues:x,__makeTemplateObject:A,__importStar:B,__importDefault:F,__classPrivateFieldGet:k,__classPrivateFieldSet:R,__classPrivateFieldIn:D,__addDisposableResource:L,__disposeResources:$,__rewriteRelativeImportExtension:z},q=r(Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:L,get __assign(){return u},__asyncDelegator:S,__asyncGenerator:T,__asyncValues:x,__await:I,__awaiter:h,__classPrivateFieldGet:k,__classPrivateFieldIn:D,__classPrivateFieldSet:R,__createBinding:g,__decorate:l,__disposeResources:$,__esDecorate:d,__exportStar:w,__extends:s,__generator:b,__importDefault:F,__importStar:B,__makeTemplateObject:A,__metadata:_,__param:f,__propKey:y,__read:O,__rest:c,__rewriteRelativeImportExtension:z,__runInitializers:p,__setFunctionName:v,__spread:j,__spreadArray:E,__spreadArrays:P,__values:m,default:G},Symbol.toStringTag,{value:"Module"})));var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.NavigationTarget=void 0,U.NavigationTarget={ContentView:"contentView",ContentEdit:"contentEdit",ContentList:"contentList",SpaceView:"spaceView",Module:"module",UserProfile:"userProfile",Dashboard:"dashboard",Issue:"issue",ProjectSettingsDetails:"projectSettingsDetails"};var V,K,J={},W={},H={},X={};function Y(){if(V)return X;V=1,Object.defineProperty(X,"__esModule",{value:!0}),X.BridgeAPIError=void 0;class e extends Error{}return X.BridgeAPIError=e,X}function Z(){if(K)return H;K=1,Object.defineProperty(H,"__esModule",{value:!0}),H.getCallBridge=void 0;const e=Y();return H.getCallBridge=()=>{if(!(null==(t=window.__bridge)?void 0:t.callBridge))throw new e.BridgeAPIError("\n      Unable to establish a connection with the Custom UI bridge.\n      If you are trying to run your app locally, Forge apps only work in the context of Atlassian products. Refer to https://go.atlassian.com/forge-tunneling-with-custom-ui for how to tunnel when using a local development server.\n    ");var t;return window.__bridge.callBridge},H}var Q,ee,te,re={};function ne(){if(Q)return re;Q=1,Object.defineProperty(re,"__esModule",{value:!0}),re.withRateLimiter=void 0;const e=Y();return re.withRateLimiter=(t,r,n,o)=>{let i=Date.now(),a=0;return async(...s)=>{const u=Date.now();if(u-i>n&&(i=u,a=0),a>=r)throw new e.BridgeAPIError(o||"Too many invocations.");return a+=1,t(...s)}},re}function oe(){if(ee)return W;ee=1,Object.defineProperty(W,"__esModule",{value:!0}),W.invoke=void 0;const e=Z(),t=Y(),r=ne(),n=(0,e.getCallBridge)();return W.invoke=(0,r.withRateLimiter)((e,r)=>{if("string"!=typeof e)throw new t.BridgeAPIError("functionKey must be a string!");return(e=>{if(e&&Object.values(e).some(e=>"function"==typeof e))throw new t.BridgeAPIError("Passing functions as part of the payload is not supported!")})(r),n("invoke",{functionKey:e,payload:r})},500,25e3,"Resolver calls are rate limited at 500req/25s"),W}var ie,ae,se={},ue={},ce={};function le(){return ie||(ie=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e._invokeEndpointFn=e.InvokeType=void 0;const t=Z(),r=Y(),n=ne();var o;(o=e.InvokeType||(e.InvokeType={})).REMOTE="Remote",o.SERVICE="Container";const i=(0,t.getCallBridge)(),a=e=>async t=>{(e=>{if(e&&Object.values(e).some(e=>"function"==typeof e))throw new r.BridgeAPIError("Passing functions as part of the payload is not supported!")})(t);const n={...t,invokeType:`ui-${e.toLowerCase()}-fetch`},o=await i("invoke",n),{success:a,payload:s,error:u}=null!=o?o:{},c={...a?s:u};if(c&&c.headers)for(const e in c.headers)Array.isArray(c.headers[e])&&(c.headers[e]=c.headers[e].join(","));return c};e._invokeEndpointFn=e=>{const t=a(e);return(0,n.withRateLimiter)(t,500,25e3,`${e} invocation calls are rate limited at 500/25s`)}}(ce)),ce}var fe,de,pe={};function ye(){return de||(de=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=q;t.__exportStar(function(){if(ae)return ue;ae=1,Object.defineProperty(ue,"__esModule",{value:!0}),ue.invokeRemote=void 0;const e=le();return ue.invokeRemote=t=>(0,e._invokeEndpointFn)(e.InvokeType.REMOTE)(t),ue}(),e),t.__exportStar(function(){if(fe)return pe;fe=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.invokeService=void 0;const e=le();return pe.invokeService=t=>(0,e._invokeEndpointFn)(e.InvokeType.SERVICE)(t),pe}(),e)}(se)),se}var ve,_e={},he={},be={};var ge,we={};var me,Oe={};var je,Pe={};var Ee,Ie={},Te={},Se={};function xe(){return Ee||(Ee=1,Object.defineProperty(Se,"__esModule",{value:!0}),Se.FORGE_SUPPORTED_LOCALE_CODES=Se.I18N_BUNDLE_FOLDER_NAME=Se.I18N_INFO_FILE_NAME=void 0,Se.I18N_INFO_FILE_NAME="i18n-info.json",Se.I18N_BUNDLE_FOLDER_NAME="__LOCALES__",Se.FORGE_SUPPORTED_LOCALE_CODES=["zh-CN","zh-TW","cs-CZ","da-DK","nl-NL","en-US","en-GB","et-EE","fi-FI","fr-FR","de-DE","hu-HU","is-IS","it-IT","ja-JP","ko-KR","no-NO","pl-PL","pt-BR","pt-PT","ro-RO","ru-RU","sk-SK","tr-TR","es-ES","sv-SE"]),Se}var Ae,Me={};var Ce,Be,Fe,ke,Re,De,Le,Ne,$e,ze,Ge,qe,Ue,Ve,Ke,Je,We,He,Xe,Ye,Ze,Qe,et,tt,rt,nt,ot,it,at,st,ut,ct,lt,ft,dt,pt,yt,vt,_t,ht,bt,gt,wt,mt,Ot,jt,Pt,Et,It,Tt,St,xt,At,Mt,Ct,Bt,Ft,kt,Rt,Dt,Lt,Nt,$t,zt,Gt,qt,Ut,Vt,Kt,Jt,Wt,Ht,Xt,Yt,Zt,Qt,er,tr,rr,nr,or,ir,ar,sr,ur,cr,lr,fr,dr,pr,yr,vr,_r,hr,br,gr,wr,mr,Or,jr,Pr,Er,Ir,Tr,Sr,xr,Ar={},Mr={};function Cr(){if(Be)return Ce;Be=1;var e=Array.isArray;return Ce=e}function Br(){if(De)return Re;De=1;var e=function(){if(ke)return Fe;ke=1;var e="object"==typeof n&&n&&n.Object===Object&&n;return Fe=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return Re=r}function Fr(){if(Ne)return Le;Ne=1;var e=Br().Symbol;return Le=e}function kr(){if(Ve)return Ue;Ve=1;var e=Fr(),t=function(){if(ze)return $e;ze=1;var e=Fr(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,o=e?e.toStringTag:void 0;return $e=function(e){var t=r.call(e,o),i=e[o];try{e[o]=void 0;var a=!0}catch(u){}var s=n.call(e);return a&&(t?e[o]=i:delete e[o]),s}}(),r=function(){if(qe)return Ge;qe=1;var e=Object.prototype.toString;return Ge=function(t){return e.call(t)}}(),n=e?e.toStringTag:void 0;return Ue=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):r(e)}}function Rr(){if(He)return We;He=1;var e=kr(),t=Je?Ke:(Je=1,Ke=function(e){return null!=e&&"object"==typeof e});return We=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}function Dr(){if(Qe)return Ze;return Qe=1,Ze=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Lr(){if(it)return ot;it=1;var e,t=function(){if(nt)return rt;nt=1;var e=Br()["__core-js_shared__"];return rt=e}(),r=(e=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";return ot=function(e){return!!r&&r in e}}function Nr(){if(ct)return ut;ct=1;var e=function(){if(tt)return et;tt=1;var e=kr(),t=Dr();return et=function(r){if(!t(r))return!1;var n=e(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}(),t=Lr(),r=Dr(),n=function(){if(st)return at;st=1;var e=Function.prototype.toString;return at=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}}(),o=/^\[object .+?Constructor\]$/,i=Function.prototype,a=Object.prototype,s=i.toString,u=a.hasOwnProperty,c=RegExp("^"+s.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return ut=function(i){return!(!r(i)||t(i))&&(e(i)?c:o).test(n(i))}}function $r(){if(pt)return dt;pt=1;var e=Nr(),t=ft?lt:(ft=1,lt=function(e,t){return null==e?void 0:e[t]});return dt=function(r,n){var o=t(r,n);return e(o)?o:void 0}}function zr(){if(vt)return yt;vt=1;var e=$r()(Object,"create");return yt=e}function Gr(){if(Tt)return It;Tt=1;var e=function(){if(ht)return _t;ht=1;var e=zr();return _t=function(){this.__data__=e?e(null):{},this.size=0}}(),t=gt?bt:(gt=1,bt=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),r=function(){if(mt)return wt;mt=1;var e=zr(),t=Object.prototype.hasOwnProperty;return wt=function(r){var n=this.__data__;if(e){var o=n[r];return"__lodash_hash_undefined__"===o?void 0:o}return t.call(n,r)?n[r]:void 0}}(),n=function(){if(jt)return Ot;jt=1;var e=zr(),t=Object.prototype.hasOwnProperty;return Ot=function(r){var n=this.__data__;return e?void 0!==n[r]:t.call(n,r)}}(),o=function(){if(Et)return Pt;Et=1;var e=zr();return Pt=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this}}();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,It=i}function qr(){if(Bt)return Ct;Bt=1;var e=Mt?At:(Mt=1,At=function(e,t){return e===t||e!=e&&t!=t});return Ct=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1}}function Ur(){if(qt)return Gt;qt=1;var e=xt?St:(xt=1,St=function(){this.__data__=[],this.size=0}),t=function(){if(kt)return Ft;kt=1;var e=qr(),t=Array.prototype.splice;return Ft=function(r){var n=this.__data__,o=e(n,r);return!(o<0||(o==n.length-1?n.pop():t.call(n,o,1),--this.size,0))}}(),r=function(){if(Dt)return Rt;Dt=1;var e=qr();return Rt=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]}}(),n=function(){if(Nt)return Lt;Nt=1;var e=qr();return Lt=function(t){return e(this.__data__,t)>-1}}(),o=function(){if(zt)return $t;zt=1;var e=qr();return $t=function(t,r){var n=this.__data__,o=e(n,t);return o<0?(++this.size,n.push([t,r])):n[o][1]=r,this}}();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,Gt=i}function Vr(){if(Jt)return Kt;Jt=1;var e=Gr(),t=Ur(),r=function(){if(Vt)return Ut;Vt=1;var e=$r()(Br(),"Map");return Ut=e}();return Kt=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}function Kr(){if(Yt)return Xt;Yt=1;var e=Ht?Wt:(Ht=1,Wt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return Xt=function(t,r){var n=t.__data__;return e(r)?n["string"==typeof r?"string":"hash"]:n.map}}function Jr(){if(sr)return ar;sr=1;var e=Vr(),t=function(){if(Qt)return Zt;Qt=1;var e=Kr();return Zt=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}(),r=function(){if(tr)return er;tr=1;var e=Kr();return er=function(t){return e(this,t).get(t)}}(),n=function(){if(nr)return rr;nr=1;var e=Kr();return rr=function(t){return e(this,t).has(t)}}(),o=function(){if(ir)return or;ir=1;var e=Kr();return or=function(t,r){var n=e(this,t),o=n.size;return n.set(t,r),this.size+=n.size==o?0:1,this}}();function i(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=r,i.prototype.has=n,i.prototype.set=o,ar=i}function Wr(){if(fr)return lr;fr=1;var e=function(){if(cr)return ur;cr=1;var e=Jr();function t(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var o=function(){var e=arguments,t=n?n.apply(this,e):e[0],i=o.cache;if(i.has(t))return i.get(t);var a=r.apply(this,e);return o.cache=i.set(t,a)||i,a};return o.cache=new(t.Cache||e),o}return t.Cache=e,ur=t}();return lr=function(t){var r=e(t,function(e){return 500===n.size&&n.clear(),e}),n=r.cache;return r}}function Hr(){if(hr)return _r;hr=1;var e=Fr(),t=vr?yr:(vr=1,yr=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}),r=Cr(),n=Rr(),o=e?e.prototype:void 0,i=o?o.toString:void 0;return _r=function e(o){if("string"==typeof o)return o;if(r(o))return t(o,e)+"";if(n(o))return i?i.call(o):"";var a=o+"";return"0"==a&&1/o==-1/0?"-0":a},_r}function Xr(){if(mr)return wr;mr=1;var e=Cr(),t=function(){if(Ye)return Xe;Ye=1;var e=Cr(),t=Rr(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;return Xe=function(o,i){if(e(o))return!1;var a=typeof o;return!("number"!=a&&"symbol"!=a&&"boolean"!=a&&null!=o&&!t(o))||n.test(o)||!r.test(o)||null!=i&&o in Object(i)}}(),r=function(){if(pr)return dr;pr=1;var e=Wr(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,function(e,t,o,i){n.push(o?i.replace(r,"$1"):t||e)}),n});return dr=n}(),n=function(){if(gr)return br;gr=1;var e=Hr();return br=function(t){return null==t?"":e(t)}}();return wr=function(o,i){return e(o)?o:t(o,i)?[o]:r(n(o))}}function Yr(){if(Er)return Pr;Er=1;var e=Xr(),t=function(){if(jr)return Or;jr=1;var e=Rr();return Or=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}();return Pr=function(r,n){for(var o=0,i=(n=e(n,r)).length;null!=r&&o<i;)r=r[t(n[o++])];return o&&o==i?r:void 0}}function Zr(){return Sr||(Sr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getTranslationValueFromContent=e.getTranslationValue=void 0;const t=q.__importDefault(function(){if(Tr)return Ir;Tr=1;var e=Yr();return Ir=function(t,r,n){var o=null==t?void 0:e(t,r);return void 0===o?n:o}}());e.getTranslationValue=(t,r,n)=>{const o=t[n];return o?(0,e.getTranslationValueFromContent)(o,r):null};e.getTranslationValueFromContent=(e,r)=>{let n=e[r];if(!n){const o=r.split(".");o.length>1&&(n=(0,t.default)(e,o,null))}return"string"==typeof n?n:null}}(Mr)),Mr}var Qr,en={};var tn,rn={};function nn(){return tn||(tn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getI18nSupportedModuleEntries=void 0;const t=e=>{const t=new Set,r=(e,n)=>!(e=>"object"==typeof e&&null!==e&&!Array.isArray(e))(e)||t.has(e)?[]:(t.add(e),Object.entries(e).flatMap(([e,t])=>{const o=[...n,e];return(e=>"string"==typeof(null==e?void 0:e.i18n))(t)?[{propertyPath:o,key:t.i18n}]:Array.isArray(t)?t.flatMap(e=>r(e,o)):r(t,o)}));return r(e,[])};e.getI18nSupportedModuleEntries=e=>Object.entries(e).flatMap(([e,t])=>!(e=>e.startsWith("connect-"))(e)&&!(e=>e.startsWith("core:"))(e)&&t&&Array.isArray(t)&&t.length>0?t.map(t=>[t,e]):[]);e.extractI18nKeysFromModules=r=>{const n=new Set;for(const o of(0,e.getI18nSupportedModuleEntries)(r)){const e=t(o[0]);for(const{key:t}of e)n.add(t)}return n.size>0?Array.from(n):[]};e.extractI18nPropertiesFromModules=r=>{const n=[];for(const o of(0,e.getI18nSupportedModuleEntries)(r)){const e=t(o[0]);for(const t of e)n.push({moduleName:o[1],...t})}return n}}(rn)),rn}var on,an,sn,un={};function cn(){return an||(an=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.getI18nSupportedModuleEntries=e.extractI18nPropertiesFromModules=e.extractI18nKeysFromModules=e.getTranslationValue=void 0;const r=q;r.__exportStar(xe(),e),r.__exportStar(function(){if(Ae)return Me;Ae=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.TranslationsGetter=Me.TranslationGetterError=void 0;class e extends Error{constructor(e){super(e),this.name="TranslationGetterError"}}return Me.TranslationGetterError=e,Me.TranslationsGetter=class{constructor(e){t(this,"resourcesAccessor"),t(this,"i18nInfoConfig",null),t(this,"translationResources",new Map),this.resourcesAccessor=e}async getTranslations(e,t={fallback:!0}){const r=await this.getI18nInfoConfig(),{fallback:n}=t;if(!n){let t;return r.locales.includes(e)&&(t=await this.getTranslationResource(e)),{translations:t??null,locale:e}}for(const o of this.getLocaleLookupOrder(e,r)){const e=await this.getTranslationResource(o);if(e)return{translations:e,locale:o}}return{translations:null,locale:e}}async getTranslationsByLocaleLookupOrder(e){const t=await this.getI18nInfoConfig(),r=this.getLocaleLookupOrder(e,t);return await Promise.all(r.map(async e=>({locale:e,translations:await this.getTranslationResource(e)})))}reset(){this.i18nInfoConfig=null,this.translationResources.clear()}async getTranslationResource(t){let r=this.translationResources.get(t);if(!r)try{r=await this.resourcesAccessor.getTranslationResource(t),this.translationResources.set(t,r)}catch(n){if(n instanceof e)throw n;throw new e(`Failed to get translation resource for locale: ${t}`)}return r}async getI18nInfoConfig(){if(!this.i18nInfoConfig)try{this.i18nInfoConfig=await this.resourcesAccessor.getI18nInfoConfig()}catch(t){if(t instanceof e)throw t;throw new e("Failed to get i18n info config")}return this.i18nInfoConfig}getLocaleLookupOrder(e,t){const{locales:r,fallback:n}=t,o=[e],i=n[e];var a,s;return i&&Array.isArray(i)&&i.length>0&&o.push(...i),a=o,s=t.fallback.default,a.includes(s)||a.push(s),o.filter(e=>r.includes(e))}},Me}(),e),r.__exportStar(function(){if(xr)return Ar;xr=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.Translator=void 0;const e=Zr();return Ar.Translator=class{constructor(e,r){t(this,"locale"),t(this,"translationsGetter"),t(this,"localeLookupOrderedTranslations",null),t(this,"cache",new Map),this.locale=e,this.translationsGetter=r}async init(){this.localeLookupOrderedTranslations=await this.translationsGetter.getTranslationsByLocaleLookupOrder(this.locale)}translate(t){if(!this.localeLookupOrderedTranslations)throw new Error("TranslationLookup not initialized");let r=this.cache.get(t);if(void 0===r){for(const{translations:n}of this.localeLookupOrderedTranslations){const o=(0,e.getTranslationValueFromContent)(n,t);if(null!==o){r=o;break}}r=r??null,this.cache.set(t,r)}return r}},Ar}(),e),r.__exportStar(function(){if(Qr)return en;Qr=1,Object.defineProperty(en,"__esModule",{value:!0}),en.ensureLocale=void 0;const e=xe(),t=new Set(e.FORGE_SUPPORTED_LOCALE_CODES),r={"en-UK":"en-GB","nb-NO":"no-NO"},n=e.FORGE_SUPPORTED_LOCALE_CODES.reduce((e,t)=>{const[r]=t.split("-");return e[r]||(e[r]=t),e},{nb:"no-NO",pt:"pt-PT"});return en.ensureLocale=e=>{const o=e.replace("_","-");return t.has(o)?o:n[o]??r[o]??null},en}(),e);var n=Zr();Object.defineProperty(e,"getTranslationValue",{enumerable:!0,get:function(){return n.getTranslationValue}});var o=nn();Object.defineProperty(e,"extractI18nKeysFromModules",{enumerable:!0,get:function(){return o.extractI18nKeysFromModules}}),Object.defineProperty(e,"extractI18nPropertiesFromModules",{enumerable:!0,get:function(){return o.extractI18nPropertiesFromModules}}),Object.defineProperty(e,"getI18nSupportedModuleEntries",{enumerable:!0,get:function(){return o.getI18nSupportedModuleEntries}}),r.__exportStar((on||(on=1,Object.defineProperty(un,"__esModule",{value:!0})),un),e)}(Te)),Te}var ln,fn={};var dn,pn={};var yn,vn,_n,hn,bn,gn,wn={},mn={},On={},jn={};function Pn(){if(yn)return jn;yn=1,Object.defineProperty(jn,"__esModule",{value:!0}),jn.blobToBase64=jn.base64ToBlob=void 0;jn.base64ToBlob=(e,t)=>{if(!e)return null;const r=e.includes(";base64")?e.split(",")[1]:e,n=atob(r),o=new Array(n.length);for(let a=0;a<n.length;a++)o[a]=n.charCodeAt(a);const i=new Uint8Array(o);return new Blob([i],{type:t})};return jn.blobToBase64=e=>new Promise((t,r)=>{const n=new FileReader;n.onloadend=()=>{t(n.result)},n.onerror=r,n.readAsDataURL(e)}),jn}function En(){return vn||(vn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.containsSerialisedBlobs=e.containsBlobs=e.deserialiseBlobsInPayload=e.serialiseBlobsInPayload=void 0;const t=Pn(),r=e=>{if("object"!=typeof e||null===e)return!1;if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(null===t)return!0;const r=Object.prototype.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Function.prototype.call(r)===Function.prototype.call(e)};e.serialiseBlobsInPayload=async n=>{if(n instanceof Blob){return{...await(async e=>({data:await(0,t.blobToBase64)(e),type:e.type}))(n),__isBlobData:!0}}if(Array.isArray(n))return Promise.all(n.map(t=>(0,e.serialiseBlobsInPayload)(t)));if(n&&r(n)){const t=await Promise.all(Object.entries(n).map(async([t,r])=>[t,await(0,e.serialiseBlobsInPayload)(r)]));return Object.fromEntries(t)}return n};e.deserialiseBlobsInPayload=n=>{if(n&&r(n)&&"__isBlobData"in n){const e=n;return o={data:e.data,type:e.type},(0,t.base64ToBlob)(o.data,o.type)}var o;if(Array.isArray(n))return n.map(t=>(0,e.deserialiseBlobsInPayload)(t));if(n&&r(n)){const t={};for(const[r,o]of Object.entries(n))t[r]=(0,e.deserialiseBlobsInPayload)(o);return t}return n};e.containsBlobs=t=>t instanceof Blob||(Array.isArray(t)?t.some(t=>(0,e.containsBlobs)(t)):!(!t||!r(t))&&Object.values(t).some(t=>(0,e.containsBlobs)(t)));e.containsSerialisedBlobs=t=>!!(t&&r(t)&&"__isBlobData"in t)||(Array.isArray(t)?t.some(t=>(0,e.containsSerialisedBlobs)(t)):!(!t||!r(t))&&Object.values(t).some(t=>(0,e.containsSerialisedBlobs)(t)))}(On)),On}function In(){if(_n)return mn;_n=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.events=void 0;const e=Z(),t=En(),r=(0,e.getCallBridge)();return mn.events={emit:async(e,n)=>{let o=n;return(0,t.containsBlobs)(n)&&(o=await(0,t.serialiseBlobsInPayload)(n)),r("emit",{event:e,payload:o})},on:(e,n)=>r("on",{event:e,callback:e=>{let r=e;return(0,t.containsSerialisedBlobs)(e)&&(r=(0,t.deserialiseBlobsInPayload)(e)),n(r)}})},mn}function Tn(){if(bn)return he;bn=1,Object.defineProperty(he,"__esModule",{value:!0}),he.view=void 0;const e=function(){if(ve)return be;ve=1,Object.defineProperty(be,"__esModule",{value:!0}),be.submit=void 0;const e=Z(),t=Y(),r=(0,e.getCallBridge)();return be.submit=async e=>{if(!1===await r("submit",e))throw new t.BridgeAPIError("this resource's view is not submittable.")},be}(),t=function(){if(ge)return we;ge=1,Object.defineProperty(we,"__esModule",{value:!0}),we.close=void 0;const e=Z(),t=Y(),r=(0,e.getCallBridge)();return we.close=async e=>{try{if(!1===await r("close",e))throw new t.BridgeAPIError("this resource's view is not closable.")}catch(n){throw new t.BridgeAPIError("this resource's view is not closable.")}},we}(),r=function(){if(me)return Oe;me=1,Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.refresh=void 0;const e=Z(),t=Y(),r=(0,e.getCallBridge)();return Oe.refresh=async e=>{if(!1===await r("refresh",e))throw new t.BridgeAPIError("this resource's view is not refreshable.")},Oe}(),n=function(){if(je)return Pe;je=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.createHistory=void 0;const e=(0,Z().getCallBridge)();return Pe.createHistory=async()=>{const t=await e("createHistory");return t.listen(e=>{t.location=e}),t},Pe}(),o=function(){if(sn)return Ie;sn=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.getContext=void 0;const e=Z(),t=cn(),r=(0,e.getCallBridge)();return Ie.getContext=async()=>{var e;const n=await r("getContext"),o=null==n?void 0:n.locale;return o&&(n.locale=null!==(e=(0,t.ensureLocale)(o))&&void 0!==e?e:o),n},Ie}(),i=function(){if(ln)return fn;ln=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.changeWindowTitle=void 0;const e=Z(),t=Y(),r=(0,e.getCallBridge)();return fn.changeWindowTitle=async e=>{try{await r("changeWindowTitle",e)}catch(n){throw new t.BridgeAPIError("the window title wasn't changed due to error.")}},fn}(),a=function(){if(dn)return pn;dn=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.theme=void 0;const e=(0,Z().getCallBridge)();return pn.theme={enable:()=>e("enableTheming")},pn}(),s=function(){if(hn)return wn;hn=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.emitReadyEvent=void 0;const e=In(),t=Tn();return wn.emitReadyEvent=async()=>{const r=await t.view.getContext();await e.events.emit("EXTENSION_READY",{localId:r.localId})},wn}();return he.view={submit:e.submit,close:t.close,refresh:r.refresh,createHistory:n.createHistory,getContext:o.getContext,theme:a.theme,changeWindowTitle:i.changeWindowTitle,emitReadyEvent:s.emitReadyEvent},he}function Sn(){return gn||(gn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});q.__exportStar(Tn(),e)}(_e)),_e}var xn,An,Mn={},Cn={};function Bn(){return An||(An=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});q.__exportStar(function(){if(xn)return Cn;xn=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.router=void 0;const e=(0,Z().getCallBridge)();return Cn.router={navigate:async t=>{if("string"==typeof t)return e("navigate",{url:t,type:"same-tab"});if(!(null==t?void 0:t.target))throw new Error("target is required for navigation");return e("navigate",{...t,type:"same-tab"})},open:async t=>{if("string"==typeof t)return e("navigate",{url:t,type:"new-tab"});if(!(null==t?void 0:t.target))throw new Error("target is required for navigation");return e("navigate",{...t,type:"new-tab"})},reload:async()=>e("reload")},Cn}(),e)}(Mn)),Mn}var Fn,kn,Rn={},Dn={};function Ln(){return kn||(kn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});q.__exportStar(function(){if(Fn)return Dn;Fn=1,Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.Modal=void 0;const e=Z(),t=Y(),r=(0,e.getCallBridge)(),n=()=>{};return Dn.Modal=class{constructor(e){var t,r;this.resource=(null==e?void 0:e.resource)||null,this.onClose=(null==e?void 0:e.onClose)||n,this.size=(null==e?void 0:e.size)||"medium",this.context=(null==e?void 0:e.context)||{},this.closeOnEscape=null===(t=null==e?void 0:e.closeOnEscape)||void 0===t||t,this.closeOnOverlayClick=null===(r=null==e?void 0:e.closeOnOverlayClick)||void 0===r||r}async open(){try{if(!1===await r("openModal",{resource:this.resource,onClose:this.onClose,size:this.size,context:this.context,closeOnEscape:this.closeOnEscape,closeOnOverlayClick:this.closeOnOverlayClick}))throw new t.BridgeAPIError("Unable to open modal.")}catch(e){throw new t.BridgeAPIError("Unable to open modal.")}}},Dn}(),e)}(Rn)),Rn}var Nn,$n,zn={},Gn={};function qn(){if(Nn)return Gn;Nn=1,Object.defineProperty(Gn,"__esModule",{value:!0}),Gn.productFetchApi=void 0;const e=Pn(),t=async t=>{const r=(null==t?void 0:t.body)instanceof FormData,n=r?await(async t=>{const r={};for(const[n,o]of t.entries())if("file"===n){const t=o.name,n=o.type;r.file=await(0,e.blobToBase64)(o),r.__fileName=t,r.__fileType=n}else r[n]=o;return JSON.stringify(r)})(null==t?void 0:t.body):null==t?void 0:t.body,o=new Request("",{body:n,method:null==t?void 0:t.method,headers:null==t?void 0:t.headers}),i=Object.fromEntries(o.headers.entries());return{body:"GET"!==o.method?await o.text():null,headers:new Headers(i),isMultipartFormData:r}};return Gn.productFetchApi=r=>{const n=async(n,o,i)=>{const{body:a,headers:s,isMultipartFormData:u}=await t(i);s.has("X-Atlassian-Token")||s.set("X-Atlassian-Token","no-check");const c={product:n,restPath:o,fetchRequestInit:{...i,body:a,headers:[...s.entries()]},isMultipartFormData:u},{body:l,headers:f,statusText:d,status:p,isAttachment:y}=await r("fetchProduct",c),v=y?(0,e.base64ToBlob)(l,f["content-type"]):l;return new Response(v||null,{headers:f,status:p,statusText:d})};return{requestConfluence:(e,t)=>n("confluence",e,t),requestJira:(e,t)=>n("jira",e,t),requestBitbucket:(e,t)=>n("bitbucket",e,t)}},Gn}var Un,Vn,Kn={},Jn={};function Wn(){return Vn||(Vn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.showFlag=void 0;var t=function(){if(Un)return Jn;Un=1,Object.defineProperty(Jn,"__esModule",{value:!0}),Jn.showFlag=void 0;const e=Z(),t=Y(),r=(0,e.getCallBridge)();return Jn.showFlag=e=>{var n;if(!e.id)throw new t.BridgeAPIError('"id" must be defined in flag options');const o=r("showFlag",{...e,type:null!==(n=e.type)&&void 0!==n?n:"info"});return{close:async()=>(await o,r("closeFlag",{id:e.id}))}},Jn}();Object.defineProperty(e,"showFlag",{enumerable:!0,get:function(){return t.showFlag}})}(Kn)),Kn}var Hn,Xn={};var Yn,Zn={};async function Qn(e){var t,r,n,o;let a=null==(r=null==(t=null==e?void 0:e.extension)?void 0:t.issue)?void 0:r.id;const s=null==(o=null==(n=null==e?void 0:e.extension)?void 0:n.issue)?void 0:o.key;if(!a&&!s)throw new Error("Missing issue ID and key in context");if(!a&&s){const e=`/rest/api/2/issue/${s}?fields=id`,t=await i.requestJira(e,{method:"GET",headers:{Accept:"application/json"}});if(200!==t.status)throw new Error(`Failed to fetch issue ID for key ${s}: ${t.status}`);if(a=(await t.json()).id,!a)throw new Error(`No issue ID found for key ${s}`)}return a}async function eo(e){var t;if(!e||"object"!=typeof e&&"string"!=e.fileName)return{error:"Invalid or missing filename"};const r=e.fileName;try{const e=await i.view.getContext(),n=`/rest/api/2/issue/${await Qn(e)}?fields=attachment`,a=await i.requestJira(n,{method:"GET",headers:{Accept:"application/json"}});if(200!==a.status)return{error:`Failed to fetch attachments: ${a.status}`};const s=await a.json(),u=((null==(t=s.fields)?void 0:t.attachment)||[]).find(e=>e.filename===r);if(!u)return{error:`No attachment found with filename ${r}`};const c=u.content.match(/\/content\/(\d+)/),l=null==c?void 0:c[1];if(!l)return{error:"Invalid attachment content URL"};const f=`/rest/api/2/attachment/content/${l}`,d=await i.requestJira(f,{method:"GET",headers:{Accept:"application/json"}});if(200!==d.status){await d.text();return{error:`Failed to fetch attachment content: ${d.status}`}}return{attachmentId:l,content:await o.parse(await d.text())}}catch(n){return{error:n.message}}}async function to(e,t){if(!e||"object"!=typeof e)return{success:!1,error:"Invalid or missing data object"};const r=t.fileName;if(!r||"string"!=typeof r)return{success:!1,error:"Invalid or missing filename"};try{const n=await i.view.getContext(),a=await Qn(n),s=o.stringify(e,null,2),u=new Blob([s],{type:"application/json"}),c=new FormData;c.append("file",u,r);const l=`/rest/api/3/issue/${a}/attachments`,f=await i.requestJira(l,{method:"POST",headers:{Accept:"application/json","X-Atlassian-Token":"no-check"},body:c});if(200!==f.status){await f.text();return{success:!1,error:`Failed to upload attachment: ${f.status}`}}const d=t.id;if(d&&!isNaN(parseInt(d))){(await i.requestJira(`/rest/api/3/attachment/${d}`,{method:"DELETE",headers:{Accept:"application/json"}})).status}return{success:!0,id:(await f.json())[0].id}}catch(n){return{success:!1,error:n.message}}}!function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.i18n=e.NavigationTarget=void 0;const t=q;var r=U;Object.defineProperty(e,"NavigationTarget",{enumerable:!0,get:function(){return r.NavigationTarget}}),t.__exportStar((te||(te=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),q.__exportStar(oe(),e)}(J)),J),e),t.__exportStar(ye(),e),t.__exportStar(Sn(),e),t.__exportStar(Bn(),e),t.__exportStar(Ln(),e),t.__exportStar(function(){if($n)return zn;var e;$n=1,Object.defineProperty(zn,"__esModule",{value:!0}),zn.requestBitbucket=zn.requestJira=zn.requestConfluence=void 0;const t=Z();return e=(0,qn().productFetchApi)((0,t.getCallBridge)()),zn.requestConfluence=e.requestConfluence,zn.requestJira=e.requestJira,zn.requestBitbucket=e.requestBitbucket,zn}(),e),t.__exportStar(Wn(),e),t.__exportStar((Hn||(Hn=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),q.__exportStar(In(),e)}(Xn)),Xn),e),e.i18n=t.__importStar(function(){if(Yn)return Zn;Yn=1,Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.createTranslationFunction=Zn.getTranslations=Zn.resetTranslationsCache=void 0;const e=cn(),t=Sn(),r={getI18nInfoConfig:async()=>{const t=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${e.I18N_INFO_FILE_NAME}`);if(!t.ok)throw new Error("Failed to get i18n info config: "+t.statusText);return(await t.json()).config},getTranslationResource:async t=>{const r=await fetch(`./${e.I18N_BUNDLE_FOLDER_NAME}/${t}.json`);if(!r.ok)throw new Error(`Failed to get translation resource for locale: ${t}`);return r.json()}},n=new e.TranslationsGetter(r);return Zn.resetTranslationsCache=()=>{n.reset()},Zn.getTranslations=async(e=null,r={fallback:!0})=>{let o=e;return o||(o=(await t.view.getContext()).locale),await n.getTranslations(o,r)},Zn.createTranslationFunction=async(r=null)=>{let o=r;o||(o=(await t.view.getContext()).locale);const i=new e.Translator(o,n);return await i.init(),(e,t)=>{var r,n;return null!==(n=null!==(r=i.translate(e))&&void 0!==r?r:t)&&void 0!==n?n:e}},Zn}())}(i);const ro="Attachment";export{eo as readJsonAttachment,ro as type,to as writeObjectToJsonAttachment};

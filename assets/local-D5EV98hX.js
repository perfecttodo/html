function s(t){return JSON.parse(t,(e,r)=>typeof r=="string"&&r.length===24&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.*Z$/.test(r)?new Date(r):r)}async function n(t){if(!t||typeof t!="string")return{error:"Invalid or missing filename"};try{const e=`${t}`,r=localStorage.getItem(e);return r?{content:s(r)}:{error:`No data found with filename ${t}`}}catch(e){return console.error(`Error reading from localStorage: ${e.message}`),{error:e.message}}}async function c(t,e){if(!t||typeof t!="object")return{success:!1,error:"Invalid or missing data object"};if(!e||typeof e!="string")return{success:!1,error:"Invalid or missing filename"};try{const r=`jira-${e}`,o=JSON.stringify(t,null,2);return localStorage.setItem(r,o),{success:!0}}catch(r){return console.error(`Error writing to localStorage: ${r.message}`),{success:!1,error:r.message}}}export{n as readJsonAttachment,c as writeObjectToJsonAttachment};

import{J as t}from"./index-DG77VZUt.js";import{p as e}from"./urlPickfile-CC-EIamk.js";import{writeObjectToJsonAttachment as r}from"./device-BvXwgfGz.js";async function o(e){if(!e||"object"!=typeof e||!e.id)throw new Error("Invalid or missing path");if(r=e.id,/^https?:\/\//i.test(r))try{const r=await fetch(e.id);if(!r.ok)throw new Error(`Failed to fetch URL ${e.id}: ${r.statusText}`);const o=await r.text(),i=t.parse(o),a=new URL(e.id).pathname.split("/").pop()||"url_data.json";return{content:i,path:{...e,fileName:a}}}catch(o){throw{code:404,error:`Failed to read or parse URL ${e.id}: ${o.message}`}}var r}async function i(t,e){if(!t||"object"!=typeof t)throw new Error("Invalid or missing data object");if(!e||"object"!=typeof e||!e.fileName)throw new Error("Invalid or missing path");return r(t,{...e,mode:"D"})}function a(){return!0}const n=async()=>{const t=await e();return{mode:"U",file:{...t,id:t.filename}}},s="Browser";export{a as authorize,n as pickFile,o as readJsonAttachment,s as type,i as writeObjectToJsonAttachment};
